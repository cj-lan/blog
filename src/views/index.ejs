<%- include("partials/header.ejs") %>
<main>
    <h1>Add Blog Post</h1>
    <hr />
    <div class="container blog-container">
        <form action="/create" method="POST">
            <div class="form-group">
                <label for="title">Title:</label>
                <input type="text" name="title" class="form-control" id="title" required />
            </div>
            <div class="form-group">
                <label for="content">Content:</label>
                <textarea name="content" class="form-control" placeholder="Write your blog content here" rows="4" required></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    </div>

    <div class="container">
        <hr />
    </div>
    
    <div class="container blog-container">
        <div class="row">
            <% posts.forEach(post => { %>
            <div class="col-md-6">
                <div class="blog-post">
                    <h2 class="blog-title"><%= post.title %></h2>
                    <p class="blog-content"><%= post.content %></p>
                    <div class="button-container">
                        <a href="/edit/<%= post.id %>" class="btn btn-info btn-sm">Edit</a>
                        <a href="/delete/<%= post.id %>" class="btn btn-danger btn-sm">Delete</a>
                    </div>
                </div>
            </div>
            <% }) %>
        </div>

        <div>
            <% if (page > 1) { %>
            <a href="/?page=<%= page - 1 %>">Previous</a>
            <% } %>
        
            <span>Page <%= page %> of <%= totalPages %></span>
        
            <% if (page < totalPages) { %>
            <a href="/?page=<%= page + 1 %>">Next</a>
            <% } %>
          </div>
    </div>

</main>
<%- include("partials/footer.ejs") %>